(function(e){function t(t){for(var i,a,o=t[0],l=t[1],c=t[2],d=0,g=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&g.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(g.length)g.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],i=!0,o=1;o<s.length;o++){var l=s[o];0!==r[l]&&(i=!1)}i&&(n.splice(t--,1),e=a(a.s=s[0]))}return e}var i={},r={app:0},n=[];function a(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=i,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(s,i,function(t){return e[t]}.bind(null,i));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"014e":function(e,t,s){},1331:function(e,t,s){},2702:function(e,t,s){"use strict";s("1331")},"27dc":function(e,t,s){},"2d28":function(e,t,s){e.exports=s.p+"img/logo2.0c2bb58d.svg"},"41bf":function(e,t,s){"use strict";s("7df6")},4678:function(e,t,s){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=n(e);return s(t)}function n(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=n,e.exports=r,r.id="4678"},"503b":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var i=s("2b0e"),r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-container",attrs:{id:"app"}},[t("app-header"),t("hero",{ref:"heroCmp",on:{scrollToList:function(t){return e.scrollMeTo("appList")}}}),t("main",{ref:"appList",staticClass:"mb10"},[t("router-view")],1),t("app-footer")],1)},n=[],a=(s("27dc"),s("14d9"),function(){var e=this,t=e._self._c;return t("header",{staticClass:"app-header full main-container",class:{scrolly:e.scrollYposition>20}},[t("div",{staticClass:"hedear-container flex space-between"},[t("div",{staticClass:"logo"},[t("img",{staticClass:"logo-img hover-pointer",attrs:{src:s("2d28"),alt:""},on:{click:function(t){return e.$router.push("/")}}})]),t("navbar",{staticClass:"nav-bar-horizontal"}),t("nav-bar-vertical",{staticClass:"nav-bar-vertical"})],1)])}),o=[],l=function(){var e=this,t=e._self._c;return t("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal",router:!0}},[t("el-menu-item",{attrs:{index:"/eventi-app"}},[e._v("Volunteerings")]),t("el-menu-item",{attrs:{index:"/org-app"}},[e._v("Organizations")]),e.loggedinUser&&e.loggedinUser.org?t("el-menu-item",{attrs:{index:"/eventi-edit"}},[e._v("Publish new Event")]):t("el-menu-item",{attrs:{index:"/org-edit"}},[e._v("I need volunteers")]),t("el-submenu",{staticClass:"user-menu",attrs:{index:"2"}},[t("template",{staticClass:"user-menu",slot:"title"},[e.loggedinUser&&e.loggedinUser.imgUrl?t("img",{attrs:{src:e.loggedinUser.imgUrl,alt:""}}):t("span",[t("i",{staticClass:"fas fa-user-circle",staticStyle:{fontSize:"25px"}})])]),t("el-menu-item",{attrs:{index:"/user-details/"+e.userId,disabled:!e.loggedinUser}},[e._v("User profile")]),e.loggedinUser?t("el-menu-item",{on:{click:e.logout}},[e._v("Logout")]):e._e(),e.loggedinUser?e._e():t("el-menu-item",{attrs:{index:"/login"}},[e._v("Login")]),e.loggedinUser?e._e():t("el-menu-item",{attrs:{index:"/login"}},[e._v("SignUp")])],2)],1)},c=[],u={data(){return{activeIndex:"1"}},computed:{loggedinUser(){return this.$store.getters.loggedinUser},userId(){return this.loggedinUser?this.loggedinUser._id:"0"}},methods:{logout(){this.$store.dispatch({type:"logout"}),this.$message({showClose:!0,message:this.loggedinUser.fullName+" logout sucessfully!",type:"success",duration:1500})}}},d=u,g=s("2877"),h=Object(g["a"])(d,l,c,!1,null,null,null),p=h.exports,m=function(){var e=this,t=e._self._c;return t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.activeIndex,mode:"vertical",router:!0}},[t("el-submenu",{staticClass:"hamburger",attrs:{index:"1"}},[t("template",{staticClass:"hamburger",slot:"title"},[t("i",{staticClass:"fas fa-bars"})]),t("el-submenu",{staticClass:"user-menu",attrs:{index:"2"}},[t("template",{staticClass:"user-menu",slot:"title"},[e.loggedinUser&&e.loggedinUser.imgUrl?t("img",{attrs:{src:e.loggedinUser.imgUrl,alt:""}}):t("span",[t("i",{staticClass:"fas fa-user-circle",staticStyle:{fontSize:"25px"}})])]),t("el-menu-item",{attrs:{index:"/user-details/"+e.userId,disabled:!e.loggedinUser}},[e._v("User profile")]),e.loggedinUser?t("el-menu-item",{on:{click:e.logout}},[e._v("Logout")]):e._e(),e.loggedinUser?e._e():t("el-menu-item",{attrs:{index:"/login"}},[e._v("Login")]),e.loggedinUser?e._e():t("el-menu-item",{attrs:{index:"/login"}},[e._v("SignUp")])],2),t("el-menu-item",{attrs:{index:"/eventi-app"}},[e._v("Volunteerings")]),t("el-menu-item",{attrs:{index:"/org-app"}},[e._v("Organizations")]),e.loggedinUser&&e.loggedinUser.org?t("el-menu-item",{attrs:{index:"/eventi-edit"}},[e._v("Publish new Event")]):t("el-menu-item",{attrs:{index:"/org-edit"}},[e._v("I need volunteers")])],2)],1)},v=[],f={data(){return{activeIndex:"1"}},computed:{loggedinUser(){return this.$store.getters.loggedinUser},userId(){return this.loggedinUser?this.loggedinUser._id:"0"}},methods:{logout(){this.$store.dispatch({type:"logout"}),this.$message({showClose:!0,message:this.loggedinUser.fullName+" logout sucessfully!",type:"success",duration:1500})}}},y=f,b=Object(g["a"])(y,m,v,!1,null,null,null),_=b.exports,C={name:"app-header",data(){return{scrollYposition:0}},components:{navbar:p,navBarVertical:_},created(){document.addEventListener("scroll",this.getScroll)},destroyed(){Document.removeEventListener("scroll",this.getScroll)},methods:{getScroll(){this.scrollYposition=window.scrollY}}},w=C,x=Object(g["a"])(w,a,o,!1,null,null,null),$=x.exports,k=function(){var e=this;e._self._c;return e._m(0)},U=[function(){var e=this,t=e._self._c;return t("footer",{staticClass:"footer full main-container text-center flex center"},[t("h3",[e._v("Together, we build better world.")]),t("h3",{staticClass:"mrg0"},[e._v("NYE©2020")])])}],E={},O=E,j=Object(g["a"])(O,k,U,!1,null,null,null),S=j.exports,N=function(){var e=this,t=e._self._c;return t("div",{ref:"hero",staticClass:"hero full"},[t("div",{staticClass:"title flex-column"},[t("h1",{staticClass:"mb10"},[e._v("Looking for something meaningful?")]),t("p",[e._v("volunteer your way and according to your unique talents")]),t("h4",{staticClass:"call-to-action",on:{click:e.scrollToList}},[e._v(" See our suggestions ")])])])},I=[],T={name:"hero",methods:{scrollToList(){this.$emit("scrollToList")}}},B=T,F=Object(g["a"])(B,N,I,!1,null,null,null),L=F.exports,D=s("8e27"),A=s.n(D);const J="/";var M,z={setup:K,terminate:P,on:Y,off:q,emit:R};function K(){M=A()(J)}function P(){M=null}function Y(e,t){M.on(e,t)}function q(e,t){M.off(e,t)}function R(e,t){M.emit(e,t)}var H={name:"eventiApp",components:{appHeader:$,appFooter:S,hero:L},methods:{scrollMeTo(e){var t=this.$refs[e],s=t.offsetTop;window.scrollTo(0,s-80)}},created(){z.setup(),z.on("updatesEventi",e=>{console.log("updatesEventi"),this.$store.getters.loggedinUser&&this.$store.getters.loggedinUser.org&&this.$store.getters.loggedinUser.org._id===e.byOrg._id&&e.notifications>0&&this.$message({showClose:!0,message:"new notification in "+e.title,type:"success",duration:3e3})})},destroyed(){z.terminate()}},G=H,V=(s("d338"),Object(g["a"])(G,r,n,!1,null,null,null)),W=V.exports,Q=s("9483");Object(Q["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var X=s("8c4f"),Z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home-page"},[t("eventi-filter",{on:{doFilter:e.routeToEventiFilter}}),e.loggedinUser&&e.loggedinUser.favs?t("section",{staticClass:"suggested"},[t("section",{staticClass:"flex space-between"},[t("h3",[e._v("Suggested for you")]),t("h3",{staticClass:"hover-pointer",on:{click:function(t){return e.$router.push("/eventi-app")}}},[e._v(" Show All ")])]),t("eventi-list",{attrs:{eventis:e.suggestEventis}})],1):e._e(),t("section",{staticClass:"flex space-between"},[t("h3",[e._v("Newest")]),t("h3",{staticClass:"hover-pointer",on:{click:function(t){return e.$router.push("/eventi-app")}}},[e._v(" Show All ")])]),t("eventi-list",{attrs:{eventis:e.newestEventis}}),t("section",{staticClass:"flex space-between"},[t("h3",[e._v("Populars")]),t("h3",{staticClass:"hover-pointer",on:{click:function(t){return e.$router.push("/eventi-app")}}},[e._v(" Show All ")])]),t("eventi-list",{attrs:{eventis:e.popularestEventis}}),e._m(0),t("global-info")],1)},ee=[function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"articles-row main-a"},[t("a",{staticClass:"article a",attrs:{href:"#/eventi-app/?term=&key=tags&values=Children"}},[t("div",[t("h2",{staticClass:"title"},[e._v("Children")])])]),t("a",{staticClass:"article b",attrs:{href:"#/eventi-app/?term=&key=tags&values=Animals"}},[t("div",[t("h2",{staticClass:"title"},[e._v("Animals")])])])]),t("div",{staticClass:"articles-row main-b"},[t("a",{staticClass:"article c",attrs:{href:"#/eventi-app/?term=&key=tags&values=Fun"}},[t("div",[t("h2",{staticClass:"title"},[e._v("Fun")])])]),t("a",{staticClass:"article d",attrs:{href:"#/eventi-app/?term=&key=tags&values=Needy"}},[t("div",[t("h2",{staticClass:"title"},[e._v("Needy")])])])])])}],te=function(){var e=this,t=e._self._c;return t("section",{staticClass:"eventi-filter"},[t("form",{staticClass:"search-container flex wrap",on:{click:function(t){return t.preventDefault(),e.emitFilter.apply(null,arguments)}}},[t("el-input",{ref:"searchFild",attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Free Search'",placeholder:"Free Search","suffix-icon":"el-icon-search"},on:{input:e.emitFilter},model:{value:e.filterBy.byText,callback:function(t){e.$set(e.filterBy,"byText",t)},expression:"filterBy.byText"}})],1),e.filterBy.byKey.key&&e.allFilds.keyList?t("el-select",{staticClass:"select-input",attrs:{value:e.allFilds.keyList[0],items:e.allFilds.keyList,placeholder:"filter by..."},on:{input:e.emitFilter},model:{value:e.filterBy.byKey.key,callback:function(t){e.$set(e.filterBy.byKey,"key",t)},expression:"filterBy.byKey.key"}}):e._e(),e.filterBy.byKey.key&&e.options?t("select-multi",{staticClass:"select-input",attrs:{value:[""],items:e.options,placeholder:"Options"},on:{input:e.emitFilter},model:{value:e.filterBy.byKey.values,callback:function(t){e.$set(e.filterBy.byKey,"values",t)},expression:"filterBy.byKey.values"}}):e._e(),t("el-button",{staticClass:"see-all",on:{click:function(t){return e.changeFilter(e.emptyFilter)}}},[e._v("Show All")])],1)},se=[],ie=function(){var e=this,t=e._self._c;return t("el-select",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(s){return t("el-option",{key:s.value,attrs:{label:s.label,value:s.value,placeholder:e.placeholder,onfocus:"this.placeholder = ''",onblur:`this.placeholder = '${e.placeholder}'`}})})),1)},re=[],ne={props:{items:Array,placeholder:{type:String,default:"Select"}},data(){return{value:""}},computed:{options(){return this.items.map(e=>({value:e,label:e}))}},created(){console.log("el-select this.items",this.items)},watch:{value:function(e){this.$emit("input",e)}}},ae=ne,oe=Object(g["a"])(ae,ie,re,!1,null,null,null),le=oe.exports,ce=function(){var e=this,t=e._self._c;return t("el-select",{ref:"select",staticStyle:{"text-align":"center"},attrs:{multiple:"","collapse-tags":"",onfocus:"this.placeholder = ''",onblur:`this.placeholder = '${e.placeholder}'`,placeholder:e.placeholder},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)},ue=[],de={props:{items:Array,placeholder:{type:String,default:"Select"}},data(){return{value:[]}},computed:{options(){return this.items.map(e=>({value:e,label:e}))}},created(){},watch:{value:function(e){this.$emit("input",e),this.$refs.select.blur()}}},ge=de,he=Object(g["a"])(ge,ce,ue,!1,null,null,null),pe=he.exports,me={name:"eventi-filter",props:{initfilterBy:{type:Object},tags:{type:Array,default:function(){return this.$store.getters.tags}},neededs:{type:Array,default:function(){return this.$store.getters.neededs}}},data(){return{emptyFilter:{byText:"",byKey:{key:"country",values:[]}},filterBy:null,debounce:null}},computed:{allFilds(){const e=this.$store.getters.allFilds;return e},options(){return this.allFilds.options[this.filterBy.byKey.key]}},created(){this.filterBy=this.initfilterBy?this.initfilterBy:JSON.parse(JSON.stringify(this.emptyFilter)),(this.$route.query.term||this.$route.query.values)&&(this.filterBy.byText=this.$route.query.term,this.filterBy.byKey.key=this.$route.query.key,this.filterBy.byKey.values=this.$route.query.values.split(","),this.$emit("doFilter",this.filterToExport()))},methods:{changeFilter(e){this.filterBy=JSON.parse(JSON.stringify(e)),this.emitFilter(),"Home"===this.$router.history.current.name&&this.$router.push("/eventi-app/")},filterToExport(){if(!this.filterBy)return JSON.parse(JSON.stringify(this.emptyFilter));const e=JSON.parse(JSON.stringify(this.filterBy));return"organization"===e.byKey.key&&(e.byKey.key="name"),"category"===e.byKey.key&&(e.byKey.key="tags"),e.byKey.values.forEach((t,s)=>{t.includes("including")&&(e.byKey.values[s]="true")}),e.byKey.values.forEach((t,s)=>{t.includes("excluding")&&(e.byKey.values[s]="false")}),e},emitFilter(){this.debounce&&clearTimeout(this.debounce),this.debounce=setTimeout(()=>{this.$emit("doFilter",this.filterToExport())},1e3)}},components:{elSelect:le,selectMulti:pe}},ve=me,fe=Object(g["a"])(ve,te,se,!1,null,null,null),ye=fe.exports,be=function(){var e=this,t=e._self._c;return t("section",[e.eventis?t("ul",{staticClass:"eventi-list clean-list card-list"},[e._l(e.eventis,(function(e,s){return t("eventi-preview",{key:s,attrs:{eventi:e}})})),t("li"),t("li")],2):t("div",[e._v("LOADING...")])])},_e=[],Ce=function(){var e=this,t=e._self._c;return e.eventi?t("li",{staticClass:"eventi-preview card-preview flex-column",on:{click:e.openDetails}},[t("div",{staticClass:"img-squer-container"},[t("img",{directives:[{name:"show",rawName:"v-show",value:e.imgLoad,expression:"imgLoad"}],attrs:{src:e.imgUrl,alt:""},on:{load:function(t){e.imgLoad=!0}}}),e.imgLoad?e._e():t("div",{staticClass:"loading flex center"},[e._v("LOADING...")]),e.eventi.location?t("p",{staticClass:"country preview-card-country"},[e._v(e._s(e.eventi.location.country))]):e._e(),t("button",{staticClass:"btn-img-nav next",on:{click:function(t){return t.stopPropagation(),e.nextImgUrl.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-arrow-circle-right"})]),t("button",{staticClass:"btn-img-nav prev",on:{click:function(t){return t.stopPropagation(),e.nextImgUrl.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-arrow-circle-left"})])]),e.org?t("section",{staticClass:"details-org-section flex align-center"},[e.eventi.notifications>0&&e.isEventiAdmin?t("h4",[t("i",{staticClass:"fas fa-circle",staticStyle:{color:"red"}}),e._v(e._s(e.eventi.notifications)+" notifications ")]):e._e()]):e._e(),t("section",{staticClass:"mini-details-top flex space-between"},[e.eventi.reviews&&e.eventi.reviews.length?t("h5",[t("i",{staticClass:"star fas fa-star"}),e._v(" "+e._s(e.eventi.rate)+" "),t("span",{staticClass:"reviews-counter"},[e._v("("+e._s(e.eventi.reviews.length)+")")])]):t("h5",[t("i",{staticClass:"star fas fa-star"}),e._v("New")]),t("h5",{staticClass:"time"},[e._v(e._s(e.moment(e.eventi.startAt).format("DD/MM/YYYY")))])]),t("div",{staticClass:"preview-details flex-column"},[t("p",{staticClass:"card-desc flex-g1"},[t("span",{staticClass:"card-title"},[e._v(e._s(e.eventi.title))]),e._v(" "),t("br"),e._v(" "+e._s(e.eventi.desc)+" ")])]),t("section",{staticClass:"price mr16"},[e.eventi.price>0?t("p",[t("span",{staticClass:"bold"},[e._v("$"+e._s(e.eventi.price))]),e._v(" / week ")]):t("p",[e._v("Free, just come!")])])]):e._e()},we=[],xe=s("c1df"),$e={name:"eventiPreview",props:{eventi:Object},data(){return{org:null,orgRate:2,imgLoad:!1,moment:xe,idx:0}},created(){this.getOrg()},components:{},computed:{imgUrl(){return this.eventi.imgUrls?this.eventi.imgUrls[this.idx]:""},tagsIcon(){return this.$store.getters.tagsIcon},duration(){const e=this.eventi.startAt,t=this.eventi.endAt,s=Math.abs(t-e),i=Math.ceil(s/864e5);var r=(i/7).toFixed(0)+" weeks";return i%7&&(r+=` and ${i%7} days`),r},isEventiAdmin(){return!(!this.$store.getters.loggedinUser||!this.$store.getters.loggedinUser.org||this.$store.getters.loggedinUser.org._id!==this.eventi.byOrg._id)}},methods:{nextImgUrl(){var e;this.idx===(null===(e=this.eventi.imgUrls)||void 0===e?void 0:e.length)-1?this.idx=0:this.idx++},prevImgUrl(){var e;0===this.idx?this.idx=(null===(e=this.eventi.imgUrls)||void 0===e?void 0:e.length)-1:this.idx--},async getOrg(){var e;const t=null===(e=this.eventi.byOrg)||void 0===e?void 0:e._id;this.org=await this.$store.dispatch({type:"getOrgById",orgId:t})},openDetails(){this.$router.push("/eventi-details/"+this.eventi._id)},openOrgDetails(){this.$router.push("/org-details/"+this.eventi.byOrg._id)}}},ke=$e,Ue=Object(g["a"])(ke,Ce,we,!1,null,null,null),Ee=Ue.exports,Oe={name:"eventi-list",props:{eventis:Array},components:{eventiPreview:Ee}},je=Oe,Se=Object(g["a"])(je,be,_e,!1,null,null,null),Ne=Se.exports,Ie=function(){var e=this,t=e._self._c;return t("section",{staticClass:"global-info full main-container text-center"},[t("h2",[e._v("Global info")]),t("div",{staticClass:"flex center mrg5 details-container"},[t("section",{staticClass:"orgs"},[t("i",{staticClass:"far fa-building"}),t("h3",[e._v(e._s(e.orgsNum)+" Organization that work hard only to make good Volunteerings")])]),t("section",{staticClass:"eventis"},[t("i",{staticClass:"fas fa-hands-helping"}),t("h3",[e._v(e._s(e.eventisNum)+" Events of amazing Volunteerings")])]),t("section",{staticClass:"eventis"},[t("i",{staticClass:"fas fa-users"}),t("h3",[e._v(e._s(e.usersNum)+" users that only make the world to be a good place!")])])])])},Te=[],Be={name:"globalInfo",computed:{orgsNum(){return console.log(this.$store.getters.orgsForDisplay),this.$store.getters.orgsForDisplay.length},eventisNum(){return this.$store.getters.eventisForDisplay.length},usersNum(){return this.$store.getters.users.length}},created(){this.$store.dispatch({type:"setOrgs"}),this.$store.dispatch({type:"loadUsers"})},components:{}},Fe=Be,Le=Object(g["a"])(Fe,Ie,Te,!1,null,null,null),De=Le.exports,Ae={name:"homePage",computed:{loggedinUser(){return this.$store.getters.loggedinUser},newestEventis(){var e=JSON.parse(JSON.stringify(this.$store.getters.eventisForDisplay));return e.sort((e,t)=>e.createdAt>t.createdAt?1:-1),e.splice(0,4)},popularestEventis(){var e=JSON.parse(JSON.stringify(this.$store.getters.eventisForDisplay));return e.sort((e,t)=>e.rate>t.rate?-1:t.rate>e.rate?1:0),e.splice(0,4)},suggestEventis(){var e=[],t=[];const s=this.$store.getters.loggedinUser.favs;var i=JSON.parse(JSON.stringify(this.$store.getters.eventisForDisplay));i.sort((e,t)=>e.rate>t.rate?-1:t.rate>e.rate?1:0),[...s].forEach(e=>{let s=[];[...i].forEach(t=>{t.tags.forEach(i=>{i===e&&s.push(t)})}),t.push(JSON.parse(JSON.stringify(s)))});const r=[0,1,2,3];return r.forEach(s=>{var i=s;i===t.length&&(i=0),i-1===t.length&&(i=1),e.push(t[i].shift())}),e}},methods:{routeToEventiFilter(e){e.byKey.values.length&&this.$router.push(`/eventi-app/?term=${e.byText}&key=${e.byKey.key}&values=${e.byKey.values}`)}},created(){this.$store.dispatch({type:"setEventis"}),document.body.classList.add("hero-page")},destroyed(){document.body.classList.remove("hero-page")},components:{eventiList:Ne,globalInfo:De,eventiFilter:ye}},Je=Ae,Me=Object(g["a"])(Je,Z,ee,!1,null,null,null),ze=Me.exports,Ke=function(){var e=this,t=e._self._c;return t("main",[t("eventi-filter",{ref:"thefilter",attrs:{initfilterBy:e.filterBy},on:{doFilter:e.setFilter}}),t("eventi-list",{attrs:{eventis:e.eventisToShow}})],1)},Pe=[],Ye=(s("13d5"),{name:"voluteerApp",data(){return{filterBy:null}},computed:{eventisToShow(){var e,t,s;const i=this.$store.getters.eventisForDisplay;if(console.log("filterBy",this.filterBy),!this.filterBy)return i;let r=i;if(this.filterBy.byText){const e=this.filterBy.byText.toLowerCase();r=i.filter(t=>{var s,i;return t.title.toLowerCase().includes(e)||t.desc.toLowerCase().includes(e)||t.byOrg.name.toLowerCase().includes(e)||(null===(s=t.location)||void 0===s?void 0:s.country.toLowerCase().includes(e))||(null===(i=t.location)||void 0===i?void 0:i.address.toLowerCase().includes(e))});const t=e.split(" "),s=i.filter(s=>{const i=t.filter(t=>{var i,r;return s.title.toLowerCase().includes(t)||s.desc.toLowerCase().includes(t)||s.byOrg.name.toLowerCase().includes(e)||(null===(i=s.location)||void 0===i?void 0:i.country.toLowerCase().includes(e))||(null===(r=s.location)||void 0===r?void 0:r.address.toLowerCase().includes(e))});return i.length===t.length});r=r.concat(s),r=r.reduce((e,t)=>(e.includes(t)||e.push(t),e),[]),r=JSON.parse(JSON.stringify(r))}if(null!==(e=this.filterBy.byKey)&&void 0!==e&&e.values.length&&(null===(t=this.filterBy.byKey)||void 0===t||!t.values.includes(""))&&(null===(s=this.filterBy.byKey)||void 0===s||!s.values.includes("all"))){const e=r.filter(e=>{if(e[this.filterBy.byKey.key]){const t=e[this.filterBy.byKey.key];return this.filterBy.byKey.values.filter(e=>t.includes(e)).length}{let t="";const s={country:"location",name:"byOrg",food:"accommodation",lodging:"accommodation"};if("object"===typeof e[s[this.filterBy.byKey.key]]&&(t=e[s[this.filterBy.byKey.key]][this.filterBy.byKey.key]),"string"===typeof t)return this.filterBy.byKey.values.includes(t);if("boolean"===typeof t)return this.filterBy.byKey.values.includes(JSON.stringify(t))}});r=JSON.parse(JSON.stringify(e))}return r}},methods:{setFilter(e){this.filterBy=e,console.log("set filter",e)}},async mounted(){this.$store.dispatch({type:"setEventis"}),this.$refs.thefilter.$refs.searchFild.focus(),z.on("updatesEventi",e=>{this.$store.dispatch({type:"saveEventi",eventi:e}),this.$store.dispatch({type:"setEventis"})})},components:{eventiFilter:ye,eventiList:Ne}}),qe=Ye,Re=Object(g["a"])(qe,Ke,Pe,!1,null,null,null),He=Re.exports,Ge=function(){var e=this,t=e._self._c;return t("main",[t("org-filter",{on:{doFilter:e.setFilter}}),t("org-list",{attrs:{orgs:e.orgsToShow}})],1)},Ve=[],We=function(){var e=this,t=e._self._c;return t("section",{staticClass:"eventi-filter"},[t("form",{staticClass:"search-container flex wrap",on:{click:function(t){return t.preventDefault(),e.emitFilter.apply(null,arguments)}}},[t("el-input",{ref:"searchFild",attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Free Search'",placeholder:"Free Search","suffix-icon":"el-icon-search"},on:{input:e.emitFilter},model:{value:e.filterBy.byText,callback:function(t){e.$set(e.filterBy,"byText",t)},expression:"filterBy.byText"}})],1),e.filterBy.byKey.key&&e.allFilds.keyList?t("el-select",{staticClass:"select-input",attrs:{value:e.allFilds.keyList[0],items:e.allFilds.keyList,placeholder:"filter by..."},on:{input:e.emitFilter},model:{value:e.filterBy.byKey.key,callback:function(t){e.$set(e.filterBy.byKey,"key",t)},expression:"filterBy.byKey.key"}}):e._e(),e.filterBy.byKey.key&&e.options?t("select-multi",{staticClass:"select-input",attrs:{value:[""],items:e.options,placeholder:"Options"},on:{input:e.emitFilter},model:{value:e.filterBy.byKey.values,callback:function(t){e.$set(e.filterBy.byKey,"values",t)},expression:"filterBy.byKey.values"}}):e._e(),t("el-button",{staticClass:"see-all",on:{click:function(t){return e.changeFilter(e.emptyFilter)}}},[e._v("Show All")])],1)},Qe=[],Xe={name:"org-filter",props:{initfilterBy:{type:Object},tags:{type:Array,default:function(){return this.$store.getters.tags}},neededs:{type:Array,default:function(){return this.$store.getters.neededs}}},data(){return{emptyFilter:{byText:"",byKey:{key:"country",values:[]}},filterBy:null,debounce:null}},computed:{allFilds(){const e=this.$store.getters.orgAllFilds;return e},options(){return this.allFilds.options[this.filterBy.byKey.key]}},created(){this.filterBy=this.initfilterBy?this.initfilterBy:JSON.parse(JSON.stringify(this.emptyFilter)),(this.$route.query.term||this.$route.query.values)&&(this.filterBy.byText=this.$route.query.term,this.filterBy.byKey.key=this.$route.query.key,this.filterBy.byKey.values=this.$route.query.values.split(","),this.$emit("doFilter",this.filterToExport()))},methods:{changeFilter(e){this.filterBy=JSON.parse(JSON.stringify(e)),this.emitFilter(),"Home"===this.$router.history.current.name&&this.$router.push("/eventi-app/")},filterToExport(){if(!this.filterBy)return JSON.parse(JSON.stringify(this.emptyFilter));const e=JSON.parse(JSON.stringify(this.filterBy));return"category"===e.byKey.key&&(e.byKey.key="tags"),e.byKey.values.forEach((t,s)=>{t.includes("including")&&(e.byKey.values[s]="true")}),e.byKey.values.forEach((t,s)=>{t.includes("excluding")&&(e.byKey.values[s]="false")}),e},emitFilter(){this.debounce&&clearTimeout(this.debounce),this.debounce=setTimeout(()=>{this.$emit("doFilter",this.filterToExport())},1e3)}},components:{elSelect:le,selectMulti:pe}},Ze=Xe,et=Object(g["a"])(Ze,We,Qe,!1,null,null,null),tt=et.exports,st=function(){var e=this,t=e._self._c;return t("section",[e.orgs?t("ul",{staticClass:"org-list clean-list card-list"},[e._l(e.orgs,(function(e,s){return t("org-preview",{key:s,attrs:{org:e}})})),t("li"),t("li")],2):t("div",[e._v("LOADING...")])])},it=[],rt=function(){var e=this,t=e._self._c;return e.org?t("li",{staticClass:"eventi-preview card-preview flex-column",on:{click:e.openDetails}},[t("div",{staticClass:"img-squer-container"},[t("img",{directives:[{name:"show",rawName:"v-show",value:e.imgLoad,expression:"imgLoad"}],attrs:{src:e.imgUrl,alt:""},on:{load:function(t){e.imgLoad=!0}}}),e.imgLoad?e._e():t("div",{staticClass:"loading flex center"},[e._v("LOADING...")]),t("button",{staticClass:"btn-img-nav next",on:{click:function(t){return t.stopPropagation(),e.nextImgUrl.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-arrow-circle-right"})]),t("button",{staticClass:"btn-img-nav prev",on:{click:function(t){return t.stopPropagation(),e.nextImgUrl.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-arrow-circle-left"})])]),t("section",{staticClass:"mini-details-top flex space-between"},[e.org.reviews&&e.org.reviews.length?t("h5",[t("i",{staticClass:"star fas fa-star"}),e._v(" "+e._s(e.org.rate)+" ("+e._s(e.org.reviews.length)+") ")]):t("h5",[t("i",{staticClass:"star fas fa-star"}),e._v("New")]),t("h5",{staticClass:"org-eventis"},[e._v(e._s(e.orgEventis.length)+" Events")])]),t("div",{staticClass:"preview-details flex column flex-g1"},[t("p",{staticClass:"org-goals card-desc flex-g1"},[t("span",{staticClass:"mrg0 card-title"},[e._v(e._s(e.org.name))]),e._v(" "),t("br"),e._v(e._s(e.org.goals)+" ")])]),t("h5",{staticClass:"org-mini-details country bold"},[e._v(e._s(e.org.country))])]):e._e()},nt=[],at={name:"orgPreview",props:{org:Object},data(){return{rate:2,imgLoad:!1,idx:0}},computed:{imgUrl(){return this.org.imgUrls?this.org.imgUrls[this.idx]:""},orgEventis(){const e=this.$store.getters.eventisForDisplay.filter(e=>{if(e.byOrg)return e.byOrg._id===this.org._id});return e},tagsIcon(){return this.$store.getters.tagsIcon}},created(){},methods:{nextImgUrl(){var e;this.idx===(null===(e=this.org.imgUrls)||void 0===e?void 0:e.length)-1?this.idx=0:this.idx++},prevImgUrl(){var e;0===this.idx?this.idx=(null===(e=this.org.imgUrls)||void 0===e?void 0:e.length)-1:this.idx--},openDetails(){this.$router.push("/org-details/"+this.org._id)}}},ot=at,lt=Object(g["a"])(ot,rt,nt,!1,null,null,null),ct=lt.exports,ut={name:"orgList",props:{orgs:Array},components:{orgPreview:ct}},dt=ut,gt=Object(g["a"])(dt,st,it,!1,null,null,null),ht=gt.exports,pt={name:"orgApp",data(){return{filterBy:null}},computed:{orgsToShow(){var e,t,s;const i=this.$store.getters.orgsForDisplay;if(!this.filterBy)return i;let r=i;if(""!=this.filterBy.byText){const e=this.filterBy.byText.toLowerCase();r=i.filter(t=>{var s,i;return(null===(s=t.name)||void 0===s?void 0:s.toLowerCase().includes(e))||(null===(i=t.desc)||void 0===i?void 0:i.toLowerCase().includes(e))});const t=e.split(" "),s=i.filter(e=>{const s=t.filter(t=>{var s,i;return(null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(t))||(null===(i=e.desc)||void 0===i?void 0:i.toLowerCase().includes(t))});return s.length===t.length});r=r.concat(s),r=r.reduce((e,t)=>(e.includes(t)||e.push(t),e),[]),r=JSON.parse(JSON.stringify(r))}if(null!==(e=this.filterBy.byKey)&&void 0!==e&&e.values.length&&(null===(t=this.filterBy.byKey)||void 0===t||!t.values.includes(""))&&(null===(s=this.filterBy.byKey)||void 0===s||!s.values.includes("all"))){const e=r.filter(e=>{if(e[this.filterBy.byKey.key]){const t=e[this.filterBy.byKey.key];return this.filterBy.byKey.values.filter(e=>t.includes(e)).length}});r=JSON.parse(JSON.stringify(e))}return r}},async created(){this.$store.dispatch({type:"setOrgs"}),this.$store.dispatch({type:"setOrgs"})},methods:{setFilter(e){console.log("filter",e),this.filterBy=e}},components:{orgFilter:tt,orgList:ht}},mt=pt,vt=Object(g["a"])(mt,Ge,Ve,!1,null,null,null),ft=vt.exports,yt=function(){var e=this,t=e._self._c;return t("section",{staticClass:"edit-page"},[e.loggedinUser&&e.loggedinUser.org?t("div",{staticClass:"edit-page-title title flex-column center-all"},[t("h2",[e._v("Edit your organization")]),t("h3",[e._v("It's free, quick and simple")])]):t("div",{staticClass:"edit-page-title title flex-column center-all"},[t("h2",[e._v("Need volunteers? join us!")]),t("h3",[e._v("It's free, quick and simple")])]),t("div",{staticClass:"side-tabs flex"},[e.loggedinUser?e._e():t("h2",{staticClass:"title-tab active",attrs:{to:"/login"}},[e._v("Login")]),t("h2",{staticClass:"title-tab",class:e.loggedinUser?"active":""},[e._v(" "+e._s(e.loggedinUser&&e.loggedinUser.org?"Edit your organization":"Add your orgaziation")+" ")]),t("h2",{staticClass:"title-tab",class:{"hover-pointer":e.loggedinUser&&e.loggedinUser.org},on:{click:e.goToCreateEventi}},[e._v("Publish new event and invite volunteers")])]),t("keep-alive",[e.loggedinUser?t("form",{staticClass:"edit-form flex column center",on:{submit:function(t){return t.preventDefault(),e.createOrg.apply(null,arguments)}}},[t("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'orgaziation name'",placeholder:"orgaziation name",clearable:""},model:{value:e.orgCred.name,callback:function(t){e.$set(e.orgCred,"name",t)},expression:"orgCred.name"}}),t("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'orgaziation country'",placeholder:"country",clearable:""},model:{value:e.orgCred.country,callback:function(t){e.$set(e.orgCred,"country",t)},expression:"orgCred.country"}}),t("el-input",{attrs:{onblur:"this.placeholder = 'tell us about your goals'",type:"textarea",rows:2,placeholder:"tell us about your goals",onfocus:"this.placeholder = ''"},model:{value:e.orgCred.goals,callback:function(t){e.$set(e.orgCred,"goals",t)},expression:"orgCred.goals"}}),t("el-input",{attrs:{type:"textarea",rows:3,onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'tell us about your organization'",placeholder:"tell us about your organization"},model:{value:e.orgCred.desc,callback:function(t){e.$set(e.orgCred,"desc",t)},expression:"orgCred.desc"}}),t("span",[e._v("Select tags")]),t("select-multi",{attrs:{items:e.tags},model:{value:e.orgCred.tags,callback:function(t){e.$set(e.orgCred,"tags",t)},expression:"orgCred.tags"}}),t("label",{staticClass:"img-list"},[e._v(" Pictures: "),t("section",{staticClass:"imgs flex center"},e._l(e.orgCred.imgUrls,(function(s,i){return t("section",{key:i,staticClass:"img-edit flex column center mrg5"},[t("img",{staticClass:"border-radius mb10",attrs:{src:s,alt:"img..."}}),t("el-button",{staticClass:"remove-img",attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeImg(i)}}})],1)})),0)]),t("section",{staticClass:"upload-img flex column center"},[e.isLoading?t("img",{staticClass:"loader",attrs:{src:"https://i.pinimg.com/originals/65/ba/48/65ba488626025cff82f091336fbf94bb.gif",alt:""}}):[t("label",{attrs:{for:"imgUploader"}},[t("i",{staticClass:"fas fa-cloud-upload-alt hover-pointer"})]),t("input",{attrs:{type:"file",name:"img-uploader",id:"imgUploader"},on:{change:e.onUploadImg}})],t("div",{staticClass:"img-list"},[t("section",{staticClass:"imgs flex center"},e._l(e.imgUrls,(function(e,s){return t("img",{key:s,staticClass:"border-radius mrg5",attrs:{src:e,alt:"img..."}})})),0)])],2),t("el-button",{on:{click:e.createOrg}},[e._v(e._s(e.loggedinUser&&e.loggedinUser.org?"Save":"Next >"))])],1):t("div",{staticClass:"edit-form flex column center"},[t("h3",[e._v("Volunteer? Activist?")]),t("router-link",{staticClass:"el-button el-button--primary",attrs:{to:"/login"}},[e._v("Login or SignUp")]),t("h3",[e._v(" We are here for you, and just want to help you doing good things ")])],1)])],1)},bt=[],_t=s("bc3a"),Ct=s.n(_t);const wt="/api/";var xt=Ct.a.create({withCredentials:!0}),$t={get(e,t){return kt(e,"GET",t)},post(e,t){return kt(e,"POST",t)},put(e,t){return kt(e,"PUT",t)},delete(e,t){return kt(e,"DELETE",t)}};async function kt(e,t="get",s=null){try{const i=await xt({url:`${wt}${e}`,method:t,data:s});return console.log("ajax -> res.data",i.data),i.data}catch(i){throw 401===i.response.status&&ti.push("/"),console.log(`Had issues ${t}ing to server`,i),i}}function Ut(e=5){var t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}function Et(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}const Ot={makeId:Ut,getRandomInt:Et,timeAgo:Nt},jt=["January","February","March","April","May","June","July","August","September","October","November","December"];function St(e,t=!1,s=!1){const i=e.getDate(),r=jt[e.getMonth()],n=e.getFullYear(),a=e.getHours();let o=e.getMinutes();return o<10&&(o="0"+o),t?`${t} at ${a}:${o}`:s?`${i}. ${r} at ${a}:${o}`:`${i}. ${r} ${n}. at ${a}:${o}`}function Nt(e){if(!e)return null;const t="object"===typeof e?e:new Date(e),s=864e5,i=new Date,r=new Date(i-s),n=Math.round((i-t)/1e3),a=Math.round(n/60),o=i.toDateString()===t.toDateString(),l=r.toDateString()===t.toDateString(),c=i.getFullYear()===t.getFullYear();return n<5?"now":n<60?n+" seconds ago":n<90?"about a minute ago":a<60?a+" minutes ago":o?St(t,"Today"):l?St(t,"Yesterday"):c?St(t,!1,!0):St(t)}const It="org",Tt={query:Lt,getById:Bt,remove:Dt,save:At,getEmptyOrg:zt,getSortList:Ft,timeAgo:Kt,makeId:Pt};function Bt(e){return $t.get(`${It}/${e}`)}async function Ft(e){const t=await Lt();return t.sort((t,s)=>t[e]>s[e]?1:s[e]>t[e]?-1:0)}function Lt(){return $t.get(It)}function Dt(e){return $t.delete(`${It}/${e}`)}function At(e){const t=e._id?Mt(e):Jt(e);return t}function Jt(e){return e.createdAt=Date.now(),$t.post(It,e)}function Mt(e){return e.updateAt=Date.now(),$t.put(`${It}/${e._id}`,e)}function zt(){return{name:"",country:"",desc:"",rate:0,imgUrls:[],admin:{},reviews:[]}}function Kt(e){return Ot.timeAgo(e)}function Pt(e=5){return Ot.makeId(e)}const Yt=async e=>{const t="nk_pre",s="nk2020",i=`https://api.cloudinary.com/v1_1/${s}/image/upload`,r=new FormData;r.append("file",e.target.files[0]),r.append("upload_preset",t);try{const e=await Ct.a.post(i,r);return e.data}catch(n){console.error("ERROR!",n)}};var qt={name:"orgEdit",data(){return{orgCred:Tt.getEmptyOrg(),isLoading:!1,imgUrls:[]}},computed:{loggedinUser(){return this.$store.getters.loggedinUser},tags(){return this.$store.getters.tags}},methods:{async onUploadImg(e){this.isLoading=!0;const t=await Yt(e);this.imgUrls.push(t.url),this.isLoading=!1},removeImg(e){console.log(e),this.orgCred.imgUrls.splice(e,1)},async createOrg(){this.loggedinUser||this.$router.push("/login"),console.log("create new org"),this.orgCred.imgUrls||(this.orgCred.imgUrls=[]),this.orgCred.imgUrls.push(...this.imgUrls);const e=JSON.parse(JSON.stringify(this.$store.getters.loggedinUser));this.orgCred.admin={_id:e._id,fullName:e.fullName,imgUrl:e.imgUrl},this.orgCred.imgUrls.length||this.orgCred.imgUrls.push("https://maestroselectronics.com/wp-content/uploads/2017/12/No_Image_Available.jpg");const t=await this.$store.dispatch({type:"saveOrg",org:JSON.parse(JSON.stringify(this.orgCred))});e.org={_id:t.org._id,name:t.org.name,imgUrl:t.org.imgUrls[0]},await this.$store.dispatch({type:"updateUser",user:e}),t.type?this.$message({showClose:!0,message:this.orgCred.name+" added sucessfully!",type:"success",duration:1500}):this.$message({showClose:!0,message:`${this.orgCred.name} cant added, err ${t.err}`,type:"warning",duration:1500}),this.orgCred=Tt.getEmptyOrg(),this.goToCreateEventi(),this.$router.go(-1)},goToCreateEventi(){(this.loggedinUser||this.loggedinUser.org)&&this.$router.push("/eventi-edit/")}},async created(){const e=this.$route.params.orgId;if(e){const t=await Tt.getById(e);this.orgCred=JSON.parse(JSON.stringify(t))}},components:{selectMulti:pe}},Rt=qt,Ht=Object(g["a"])(Rt,yt,bt,!1,null,null,null),Gt=Ht.exports,Vt=function(){var e=this,t=e._self._c;return t("section",{staticClass:"edit-page"},[e._m(0),t("div",{staticClass:"side-tabs flex"},[t("h2",{staticClass:"title-tab hover-pointer",on:{click:e.openOrgDetails}},[e._v("Edit your orgaziation")]),t("h2",{staticClass:"title-tab active"},[e._v("Publish new event and invite volunteers")])]),t("form",{staticClass:"edit-form flex column center",on:{submit:function(t){return t.preventDefault(),e.saveEventi.apply(null,arguments)}}},[t("el-input",{attrs:{onblur:"this.placeholder = 'Eventi title'",onfocus:"this.placeholder = ''",placeholder:"Eventi Title",clearable:""},model:{value:e.eventiToEdit.title,callback:function(t){e.$set(e.eventiToEdit,"title",t)},expression:"eventiToEdit.title"}}),t("el-input",{attrs:{onblur:"this.placeholder = 'tell us about your eventi'",type:"textarea",rows:3,placeholder:"Tell us about your eventi",onfocus:"this.placeholder = ''"},model:{value:e.eventiToEdit.desc,callback:function(t){e.$set(e.eventiToEdit,"desc",t)},expression:"eventiToEdit.desc"}}),t("section",{staticClass:"dates"},[t("div",{staticClass:"block"},[t("el-date-picker",{attrs:{lang:"eng",type:"datetimerange","start-placeholder":"Start date","end-placeholder":"End date"},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}})],1)]),t("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Eventi Country'",placeholder:"Eventi Country",clearable:""},model:{value:e.eventiToEdit.location.country,callback:function(t){e.$set(e.eventiToEdit.location,"country",t)},expression:"eventiToEdit.location.country"}}),t("el-input",{attrs:{onblur:"this.placeholder = 'Eventi Address'",onfocus:"this.placeholder = ''",placeholder:"Eventi Address",clearable:""},model:{value:e.eventiToEdit.location.address,callback:function(t){e.$set(e.eventiToEdit.location,"address",t)},expression:"eventiToEdit.location.address"}}),t("div",{staticClass:"slect-options-inputs flex"},[t("label",[e._v(" Limit of members "),t("el-input-number",{attrs:{min:1},model:{value:e.eventiToEdit.capacity,callback:function(t){e.$set(e.eventiToEdit,"capacity",t)},expression:"eventiToEdit.capacity"}})],1),t("label",[e._v(" Select tags "),t("select-multi",{attrs:{items:e.tags},model:{value:e.eventiToEdit.tags,callback:function(t){e.$set(e.eventiToEdit,"tags",t)},expression:"eventiToEdit.tags"}})],1),t("label",[e._v(" Select neededs "),t("select-multi",{attrs:{items:e.neededs},model:{value:e.eventiToEdit.neededs,callback:function(t){e.$set(e.eventiToEdit,"neededs",t)},expression:"eventiToEdit.neededs"}})],1),e.eventiToEdit._id?t("el-button",{attrs:{type:"danger"},on:{click:e.removeEventi}},[e._v("Delete Event")]):e._e()],1),t("label",{staticClass:"img-list"},[e._v(" Pictures: "),t("section",{staticClass:"imgs flex center"},e._l(e.eventiToEdit.imgUrls,(function(s,i){return t("section",{key:i,staticClass:"img-edit flex column center mrg5"},[t("img",{staticClass:"border-radius mb10",attrs:{src:s,alt:"img..."}}),t("el-button",{staticClass:"remove-img",attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeImg(i)}}})],1)})),0)]),t("section",{staticClass:"upload-img flex column center"},[e.isLoading?t("img",{staticClass:"loader",attrs:{src:"https://i.pinimg.com/originals/65/ba/48/65ba488626025cff82f091336fbf94bb.gif",alt:""}}):[e._m(1),t("input",{attrs:{type:"file",name:"img-uploader",id:"imgUploader"},on:{change:e.onUploadImg}})],t("div",{staticClass:"img-list"},[t("section",{staticClass:"imgs flex center"},e._l(e.imgUrls,(function(e,s){return t("img",{key:s,staticClass:"border-radius mrg5",attrs:{src:e,alt:"img..."}})})),0)])],2),t("el-button",{on:{click:e.saveEventi}},[e._v("Publish")])],1)])},Wt=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"edit-page-title title flex-column center-all"},[t("h2",[e._v("Create new event")]),t("h3",[e._v("It's free, quick and simple")])])},function(){var e=this,t=e._self._c;return t("label",{attrs:{for:"imgUploader"}},[t("i",{staticClass:"fas fa-cloud-upload-alt hover-pointer"})])}];const Qt="eventi",Xt={query:ts,getById:Zt,remove:ss,save:is,getEmptyEventi:as,getSortList:es,timeAgo:os,makeId:ls};function Zt(e){return $t.get(`${Qt}/${e}`)}async function es(e){const t=await ts();return t.sort((t,s)=>t[e]>s[e]?1:s[e]>t[e]?-1:0)}function ts(){return $t.get(Qt)}function ss(e){return $t.delete(`${Qt}/${e}`)}function is(e){const t=e._id?ns(e):rs(e);return t}function rs(e){return e.createdAt=Date.now(),$t.post(Qt,e)}function ns(e){return e.updateAt=Date.now(),$t.put(`${Qt}/${e._id}`,e)}function as(){return{title:"",desc:"",startAt:null,endAt:null,rate:0,location:{lat:null,lng:null,country:"",address:""},imgUrls:[],capacity:null,tags:[],neededs:[],members:[],reviews:[],byOrg:{_id:"5d6f6552j3kk8,2m2jh",name:"Save worlds",rate:4,imgUrl:"https://images.unsplash.com/photo-1606335221768-18e3dac0e879?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80"}}}function os(e){return Ot.timeAgo(e)}function ls(e=5){return Ot.makeId(e)}var cs={name:"eventi-edit",data(){return{eventiToEdit:Xt.getEmptyEventi(),byOrg:null,pickerOptions:{shortcuts:[{text:"Last week",onClick(e){const t=new Date,s=new Date;s.setTime(s.getTime()-6048e5),e.$emit("pick",[s,t])}},{text:"Last month",onClick(e){const t=new Date,s=new Date;s.setTime(s.getTime()-2592e6),e.$emit("pick",[s,t])}},{text:"Last 3 months",onClick(e){const t=new Date,s=new Date;s.setTime(s.getTime()-7776e6),e.$emit("pick",[s,t])}}]},value1:[new Date(2e3,10,10,10,10),new Date(2e3,10,11,10,10)],value2:"",dates:null,tags:this.$store.getters.tags,neededs:this.$store.getters.neededs,isLoading:!1,imgUrls:[]}},methods:{async onUploadImg(e){this.isLoading=!0;const t=await Yt(e);this.imgUrls.push(t.url),this.isLoading=!1},removeImg(e){console.log(e),this.eventiToEdit.imgUrls.splice(e,1)},saveEventi(){if(this.eventiToEdit.imgUrls||(this.eventiToEdit.imgUrls=[]),this.eventiToEdit.imgUrls.push(...this.imgUrls),!this.$store.getters.loggedinUser.org)return void this.$message({showClose:!0,message:"create organization first",type:"warning",duration:1500});this.eventiToEdit._id||(this.eventiToEdit.imgUrls.length||this.eventiToEdit.imgUrls.push("https://maestroselectronics.com/wp-content/uploads/2017/12/No_Image_Available.jpg","https://maestroselectronics.com/wp-content/uploads/2017/12/No_Image_Available.jpg","https://maestroselectronics.com/wp-content/uploads/2017/12/No_Image_Available.jpg"),this.eventiToEdit.startAt=this.dates[0].getTime,this.eventiToEdit.endAt=this.dates[1].getTime,this.eventiToEdit.byOrg=this.byOrg);const e=this.$store.dispatch({type:"saveEventi",eventi:JSON.parse(JSON.stringify(this.eventiToEdit))});e.type?this.$message({showClose:!0,message:this.eventiToEdit.title+" added sucessfully!",type:"success",duration:1500}):this.$message({showClose:!0,message:`${this.eventiToEdit.title} cant added, err ${e.err}`,type:"warning",duration:1500}),this.eventiToEdit=Xt.getEmptyEventi(),this.$router.go(-1)},async getEventiById(){if(!this.$route.params._id)return;const e=this.$route.params._id;e&&(this.eventiToEdit=await this.$store.dispatch({type:"getEventiById",_id:e}))},async getByOrg(){if(!this.$store.getters.loggedinUser.org)return;const e=this.$store.getters.loggedinUser.org._id||{_id:null};if(e){this.byOrg=await Tt.getById(e);const{_id:t,name:s,rate:i}=this.byOrg;this.byOrg={_id:t,name:s,rate:i,imgUrl:this.byOrg.imgUrls[0]}}},removeEventi(){this.$store.dispatch({type:"removeEventiById",eventiId:this.eventiToEdit._id}),this.$router.go(-2)},openOrgDetails(){this.$router.push("/org-edit/"+this.byOrg._id)}},created(){this.getEventiById(),this.getByOrg()},components:{selectMulti:pe}},us=cs,ds=(s("41bf"),Object(g["a"])(us,Vt,Wt,!1,null,null,null)),gs=ds.exports,hs=function(){var e=this,t=e._self._c;return t("section",{staticClass:"login flex column center text-center small-container"},[e.loggedinUser?t("el-button",{on:{click:e.logout}},[e._v("Logout")]):t("section",[t("section",{staticClass:"login"},[t("h3",[e._v("Login")]),t("form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[t("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Username'",placeholder:"Username",clearable:""},model:{value:e.loginCred.fullName,callback:function(t){e.$set(e.loginCred,"fullName",t)},expression:"loginCred.fullName"}}),t("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Password'","show-password":"",placeholder:"Password",clearable:""},model:{value:e.loginCred.password,callback:function(t){e.$set(e.loginCred,"password",t)},expression:"loginCred.password"}}),t("el-button",{on:{click:e.login}},[e._v("Login")])],1)]),t("section",{staticClass:"signup"},[t("h3",[e._v("Sign-up")]),t("form",{staticClass:"flex column center",on:{submit:function(t){return t.preventDefault(),e.signup.apply(null,arguments)}}},[t("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Username'",placeholder:"Username",clearable:""},model:{value:e.signupCred.fullName,callback:function(t){e.$set(e.signupCred,"fullName",t)},expression:"signupCred.fullName"}}),t("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Password'","show-password":"",placeholder:"Password",clearable:""},model:{value:e.signupCred.password,callback:function(t){e.$set(e.signupCred,"password",t)},expression:"signupCred.password"}}),t("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'baba@gmail.com'",placeholder:"baba@gmail.com",clearable:""},model:{value:e.signupCred.email,callback:function(t){e.$set(e.signupCred,"email",t)},expression:"signupCred.email"}}),t("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = '012-345-6789'",placeholder:"012-345-6789",clearable:""},model:{value:e.signupCred.tel,callback:function(t){e.$set(e.signupCred,"tel",t)},expression:"signupCred.tel"}}),t("span",[e._v("Select skills")]),t("select-multi",{attrs:{items:e.neededs},model:{value:e.signupCred.skills,callback:function(t){e.$set(e.signupCred,"skills",t)},expression:"signupCred.skills"}}),t("span",[e._v("Select favorites")]),t("select-multi",{attrs:{items:e.tags},model:{value:e.signupCred.favs,callback:function(t){e.$set(e.signupCred,"favs",t)},expression:"signupCred.favs"}}),t("label",{staticClass:"img-list"},[e._v(" Picture: "),e.signupCred.imgUrl?t("section",{staticClass:"img flex center"},[t("img",{staticClass:"border-radius mb10",attrs:{src:e.signupCred.imgUrl,alt:"img..."}}),t("el-button",{staticClass:"remove-img",attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeImg()}}})],1):e._e()]),t("section",{staticClass:"upload-img flex column center"},[e.isLoading?t("img",{staticClass:"loader",attrs:{src:"https://i.pinimg.com/originals/65/ba/48/65ba488626025cff82f091336fbf94bb.gif",alt:""}}):[t("label",{attrs:{for:"imgUploader"}},[t("i",{staticClass:"fas fa-cloud-upload-alt hover-pointer"})]),t("input",{attrs:{type:"file",name:"img-uploader",id:"imgUploader"},on:{change:e.onUploadImg}})],e.imgUrl?t("div",{staticClass:"img-list"},[t("section",{staticClass:"imgs flex center"},[t("img",{staticClass:"border-radius mrg5",attrs:{src:e.imgUrl,alt:"img..."}})])]):e._e()],2),t("el-button",{on:{click:e.signup}},[e._v("Sign")])],1)])])],1)},ps=[],ms={name:"Login",data(){return{loginCred:{},signupCred:{events:[],imgUrl:null,org:null},msg:"",isLoading:!1,imgUrl:null}},components:{selectMulti:pe},computed:{loggedinUser(){return this.$store.getters.loggedinUser},tags(){return this.$store.getters.tags},neededs(){return this.$store.getters.neededs}},methods:{async onUploadImg(e){this.isLoading=!0;const t=await Yt(e);this.imgUrl=t.url,this.isLoading=!1},removeImg(){this.signupCred.imgUrl=null},async login(){if(this.loginCred.fullName&&this.loginCred.password){console.table("this.loginCred",this.loginCred);try{await this.$store.dispatch({type:"login",userCred:this.loginCred}),this.$message({showClose:!0,message:this.loginCred.fullName+" loginned sucessfully!",type:"success",duration:1500}),this.loginCred={}}catch(e){this.$message({showClose:!0,message:"Your user/password wrong, please try again.",type:"warning",duration:1500})}}else this.$message({showClose:!0,message:"Username/Password must be present",type:"warning",duration:1500}),console.table("this.loginCred",this.loginCred);this.$router.go(-1)},signup(){this.signupCred.imgUrl=this.imgUrl,this.signupCred.fullName&&this.signupCred.password&&this.signupCred.email?(this.$store.dispatch({type:"signup",userCred:this.signupCred}),this.signupCred={},this.$message({showClose:!0,message:this.signupCred.fullName+" signup sucessfully!",type:"success",duration:1500})):(console.table("this.signupCred",this.signupCred),this.$message({showClose:!0,message:"Some input is incorrect",type:"warning",duration:1500})),this.$router.go(-1)},logout(){this.$store.dispatch({type:"logout"}),this.$message({showClose:!0,message:this.loggedinUser.fullName+" logout sucessfully!",type:"success",duration:1500})}}},vs=ms,fs=(s("c07d"),Object(g["a"])(vs,hs,ps,!1,null,"380d6024",null)),ys=fs.exports,bs=function(){var e=this,t=e._self._c;return e.eventi?t("section",{staticClass:"eventi-details"},[t("section",{staticClass:"main-details"},[t("section",{staticClass:"top-page flex center space-between"},[t("div",{staticClass:"top-details"},[t("h2",{staticClass:"mb10"},[e._v(e._s(e.eventi.title))]),t("section",{staticClass:"flex align-center"},[t("section",{staticClass:"rate-section"},[e.eventi.reviews.length?t("span",[t("i",{staticClass:"star fas fa-star"}),e._v(" "+e._s(e.eventi.rate)+" ("+e._s(e.eventi.reviews.length)+") ")]):t("span",[t("i",{staticClass:"star fas fa-star"}),e._v("New")])]),t("span",[e._v(" "+e._s(e.eventi.location.address)+", "+e._s(e.eventi.location.country))])])]),e.isUserOrgAdmin?t("div",{staticClass:"edit-btns flex"},[t("el-button",{staticClass:"delete-btn",attrs:{type:"warning"},on:{click:e.removeEventi}},[e._v("Delete Event")]),t("router-link",{staticClass:"el-button el-button--success",attrs:{type:"success",to:"/eventi-edit/"+e.eventi._id}},[e._v("Edit")])],1):e._e()]),t("section",{staticClass:"eventi-imgs"},e._l(e.eventi.imgUrls,(function(e,s){return t("img",{key:s,staticClass:"eventi-img",attrs:{src:e}})})),0)]),t("section",{staticClass:"mini-org flex align-center",on:{click:e.openOrgDetails}},[t("avatar",{staticClass:"mr16 hover-pointer",attrs:{src:e.eventi.byOrg.imgUrl,username:e.eventi.byOrg.name}}),t("span",[e._v(e._s(e.eventi.byOrg.name))])],1),t("main",{staticClass:"flex justify-center"},[t("section",{staticClass:"details flex column"},[t("section",{staticClass:"details-ev"},[t("hr"),t("section",{staticClass:"tags flex wrap align-center"},[t("span",{staticClass:"bold mr16"},[e._v("Categories")]),e._l(e.eventi.tags,(function(s,i){return t("span",{key:i,staticClass:"tag text-center mrg5 mb10"},[t("i",{class:e.tagsIcon[s]}),e._v(" "+e._s(s)+" ")])}))],2),t("hr"),t("section",{staticClass:"tags-section align-center"},[t("section",{},[t("section",[t("span",[t("i",{staticClass:"fas fa-users"}),e._v(" "+e._s(e.eventi.members.length)+" /"+e._s(e.eventi.capacity)+" members")])]),t("section",{staticClass:"dates flex"},[t("span",[t("i",{staticClass:"fas fa-calendar-alt"}),e._v(" "+e._s(e.moment(e.eventi.startAt).format("DD/MM/YYYY"))+" - "+e._s(e.moment(e.eventi.endAt).format("DD/MM/YYYY")))])])]),t("section",{staticClass:"neededs"},[t("span",{staticClass:"bold need-txt"},[e._v("We need for this volunteering")]),t("section",{staticClass:"needed-content flex wrap"},e._l(e.eventi.neededs,(function(s,i){return t("span",{key:i,staticClass:"needed text-center mrg5"},[t("i",{class:e.neededsIcon[s]}),e._v(" "+e._s(s)+" ")])})),0)])]),t("section",{staticClass:"accomodations"},[t("span",{staticClass:"bold mr16"},[e._v("Accomodations")]),t("section",{staticClass:"aco-content flex wrap"},e._l(e.eventi.accommodation,(function(s,i){return t("span",{key:i,staticClass:"tag text-center mrg5"},[t("i",{class:e.accommodationIcon[s]}),e._v(" "+e._s(s)+" ")])})),0)]),t("hr")]),t("section",{staticClass:"desc-ev"},[t("span",[e._v(e._s(e.eventi.desc))])])]),t("section",{staticClass:"status-details text-center flex column center"},[t("div",{staticClass:"join-section flex column align-center"},[t("p",[e._v("We need speicals volunteer, if you are please join us!")]),e.isMember?t("el-button",{staticClass:"join-btn",attrs:{type:"warning"},on:{click:e.updateMember}},[e._v("Leave event")]):t("el-button",{staticClass:"join-btn",attrs:{type:"success"},on:{click:e.updateMember}},[e._v("Join us")])],1),e._m(0),t("section",{staticClass:"section-status-details"},[t("section",{staticClass:"members flex column text-center align-center"},[t("h3",{staticClass:"title-members"},[e._v("Members")]),t("section",{staticClass:"members-imgs flex center wrap"},e._l(e.eventi.members,(function(e){return t("avatar",{key:e._id,staticClass:"member-img mrg5",staticStyle:{"background-position":"center","background-size":"cover"},attrs:{username:e.fullName,src:e.imgUrl,title:e.fullName}})})),1)]),t("chat-app",{staticClass:"chat-app"},[t("h3",{staticClass:"title-chat",attrs:{slot:"header"},slot:"header"},[e._v("Members Chat")]),e._l(e.msgs,(function(s,i){return t("section",{key:i,staticClass:"mainChat"},[t("span",{staticClass:"msg"},[e._v(e._s(s.from)+": "+e._s(s.txt))])])})),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("form",{staticClass:"flex",on:{submit:function(t){return t.preventDefault(),e.sendMsg.apply(null,arguments)}}},[t("el-input",{attrs:{placeholder:"Send Massage"},model:{value:e.msgChat.txt,callback:function(t){e.$set(e.msgChat,"txt",t)},expression:"msgChat.txt"}}),t("i",{staticClass:"far fa-paper-plane fa-2x hover-pointer",on:{click:e.sendMsg}})],1)])],2)],1)])]),t("section",{staticClass:"reviews-section flex column center"},[t("section",{staticClass:"add-review flex align-center text-center mb10"},[t("el-input",{attrs:{type:"text",placeholder:"Enter your review",name:"review"},model:{value:e.reviewToEdit.txt,callback:function(t){e.$set(e.reviewToEdit,"txt",t)},expression:"reviewToEdit.txt"}}),t("section",{staticClass:"review-edit flex align-center"},[t("el-button",{attrs:{type:"success"},on:{click:e.addReview}},[e._v("Add review")]),t("rate-stars-enable",{model:{value:e.reviewToEdit.rate,callback:function(t){e.$set(e.reviewToEdit,"rate",t)},expression:"reviewToEdit.rate"}})],1)],1),t("span",{staticClass:"text-center mrg5"},[e._v("Reviews")]),t("section",{staticClass:"reviews flex wrap align-center"},e._l(e.eventi.reviews,(function(s){return t("section",{key:s._id,staticClass:"review flex column mrg5"},[t("section",{staticClass:"details-review flex align-center"},[t("avatar",{attrs:{src:s.author.imgUrl,username:s.author.fullName}}),t("span",{staticClass:"review-rate"},[e._v(e._s(s.rate)),t("i",{staticClass:"star fas fa-star"})]),t("span",{staticClass:"time mrg5"},[e._v(" "+e._s(e.moment(s.createdAt).startOf("minute").fromNow())+" ")])],1),t("section",{staticClass:"content-review flex text-center"},[t("span",{staticClass:"name-review mrg5"},[e._v(e._s(s.author.fullName)+": ")]),t("span",{staticClass:"txt-review"},[e._v(e._s(s.txt))])])])})),0)])]):e._e()},_s=[function(){var e=this,t=e._self._c;return t("section",{staticClass:"share-button flex center"},[t("section",[t("a",{attrs:{href:"https://api.whatsapp.com/send?text=https://world-volunteery.herokuapp.com/#/eventi-details/5fc3c2f8b939f9e519ca279a",target:"_blank"}},[t("i",{staticClass:"fab fa-whatsapp"})])]),t("iframe",{staticStyle:{border:"none",overflow:"hidden"},attrs:{src:"https://www.facebook.com/plugins/share_button.php?href=https%3A%2F%2Fwww.facebook.com%2FHeroesforLifeIsrael&layout=button&size=large&width=77&height=28&appId",width:"77",height:"28",scrolling:"no",frameborder:"0",allowfullscreen:"true",allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"}}),t("div",{staticClass:"fb-share-button",attrs:{"data-href":"https://www.facebook.com/HeroesforLifeIsrael","data-layout":"button","data-size":"large"}},[t("a",{staticClass:"fb-xfbml-parse-ignore",attrs:{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.facebook.com%2FHeroesforLifeIsrael&src=sdkpreparse"}})])])}],Cs=function(){var e=this,t=e._self._c;return t("section",{staticClass:"chat-app"},[t("header",[e._t("header")],2),t("main",[e._t("default",(function(){return[t("h4",[e._v("Hi! here you can talk about the event")])]}))],2),t("footer",[e._t("footer")],2)])},ws=[],xs={name:"chat-app",data(){return{msgs:[]}},methods:{closeChat(){this.$emit("closeChat")}},mounted(){document.body.addEventListener("keyup",e=>{"Escape"===e.code&&this.closeChat()})},destroyed(){document.body.removeEventListener("keyup",e=>{"Escape"===e.code&&this.closeChat()})}},$s=xs,ks=(s("2702"),Object(g["a"])($s,Cs,ws,!1,null,"a95e462e",null)),Us=ks.exports,Es=s("4a89"),Os=s.n(Es),js=function(){var e=this,t=e._self._c;return t("div",{staticClass:"rate-stars"},[t("el-rate",{attrs:{"text-color":"#ff9900"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},Ss=[],Ns={props:{value:Number},watch:{value:function(e){this.$emit("input",e)}}},Is=Ns,Ts=Object(g["a"])(Is,js,Ss,!1,null,null,null),Bs=Ts.exports,Fs=s("c1df"),Ls={name:"eventi-details",data(){return{moment:Fs,eventi:null,reviewToEdit:{author:{},txt:"",rate:5},miniLoggedinUser:null,miniEventi:null,textBtn:"Join us!",msg:"no Rates",msgChat:{from:"",txt:""},msgs:[],topic:"love",debounce:null}},computed:{tagsIcon(){return this.$store.getters.tagsIcon},neededsIcon(){return this.$store.getters.neededsIcon},accommodationIcon(){return this.$store.getters.accommodationIcon},isUserOrgAdmin(){const e=this.$store.getters.loggedinUser;return!(!e||!e.isAdmin)||!(!e||!e.org||e.org._id!==this.eventi.byOrg._id)},isMember(){const e=this.eventi.members.findIndex(e=>e._id===this.miniLoggedinUser._id);return-1!=e}},methods:{avgRates(){1===this.eventi.reviews.length&&(this.eventi.rate=this.eventi.reviews[0].rate);var e=0;this.eventi.reviews.forEach(t=>{e+=t.rate}),this.eventi.rate=(e/this.eventi.reviews.length).toFixed(2)},removeMember(e=this.miniLoggedinUser){console.log("member",e);const t=this.eventi.members.findIndex(t=>t._id===e._id);this.eventi.members.splice(t,1);const s=this.$store.getters.loggedinUser.events.findIndex(e=>e._id===this.eventi._id),i=this.$store.getters.loggedinUser;i.events.splice(s,1),this.$store.dispatch({type:"updateUser",user:JSON.parse(JSON.stringify(i))}),this.$store.dispatch({type:"saveEventi",eventi:JSON.parse(JSON.stringify(this.eventi))})},updateMember(){this.$store.getters.loggedinUser?z.emit("changeMember",this.miniLoggedinUser):this.$message({showClose:!0,message:"You need login first",type:"warning",duration:1500})},async changesMember(e){console.log(e);const t=this.eventi.members.findIndex(t=>t._id===e._id);if(-1!=t){this.eventi.members.splice(t,1);const e=this.$store.getters.loggedinUser.events.findIndex(e=>e._id===this.eventi._id),s=this.$store.getters.loggedinUser;s.events.splice(e,1),this.$store.dispatch({type:"updateUser",user:JSON.parse(JSON.stringify(s))}),this.$store.dispatch({type:"saveEventi",eventi:JSON.parse(JSON.stringify(this.eventi))})}else{console.log("member",e);const t=JSON.parse(JSON.stringify(this.$store.getters.loggedinUser));this.eventi.members.push(e),this.$store.dispatch({type:"saveEventi",eventi:JSON.parse(JSON.stringify(this.eventi))}),t.events.push(JSON.parse(JSON.stringify(this.miniEventi)));const s=await this.$store.dispatch({type:"updateUser",user:t});s.type&&this.$message({showClose:!0,message:"member just joined!",type:"success",duration:1500}),this.textBtn="leave event"}this.eventi.notifications||(this.eventi.notifications=0),this.eventi.notifications=this.eventi.notifications+1,this.$store.dispatch({type:"saveEventi",eventi:this.eventi}),z.emit("updateEventi",this.eventi)},async addReview(){if(!this.$store.getters.loggedinUser)return this.$message({showClose:!0,message:"You need login first",type:"warning",duration:1500}),void(this.reviewToEdit.txt="");this.reviewToEdit.rate=Number(this.reviewToEdit.rate),this.reviewToEdit.createdAt=Date.now(),this.reviewToEdit._id=Xt.makeId(),this.reviewToEdit.author=JSON.parse(JSON.stringify(this.miniLoggedinUser)),this.eventi.reviews.push(this.reviewToEdit),this.eventi.notifications||(this.eventi.notifications=0),this.eventi.notifications=this.eventi.notifications+1,this.avgRates(),this.$store.dispatch({type:"saveEventi",eventi:this.eventi}),console.log(this.eventi),z.emit("updateEventi",this.eventi),this.$message({showClose:!0,message:"Your review added sucessfully!",type:"success",duration:1500}),this.reviewToEdit={author:{},txt:"",rate:5}},async removeEventi(){const e=await this.$store.dispatch({type:"removeEventiById",eventiId:this.eventi._id});e.type?this.$message({showClose:!0,message:this.eventi.title+" removed sucessfully!",type:"success",duration:1500}):this.$message({showClose:!0,message:`${this.eventi.title} cant remove, err ${e.err.code}`,type:"warning",duration:1500}),this.$router.go(-1)},addMsg(e){this.msgs.push(e)},sendMsg(){if(!this.$store.getters.loggedinUser)return this.$message({showClose:!0,message:"You need login first",type:"warning",duration:1500}),void(this.msgChat.txt="");this.msgChat.from=this.$store.getters.loggedinUser.fullName,console.log("Sending",this.msgChat),z.emit("chat newMsg",this.msgChat),this.msgChat={from:this.$store.getters.loggedinUser.fullName,txt:""}},openOrgDetails(){this.$router.push("/org-details/"+this.eventi.byOrg._id)}},async created(){const e=this.$route.params.eventiId,t=await Xt.getById(e);this.eventi=JSON.parse(JSON.stringify(t)),this.miniEventi={_id:t._id,title:t.title,imgUrl:t.imgUrls[0]};const s=JSON.parse(JSON.stringify(this.$store.getters.loggedinUser))||{fullName:"Goust"},{_id:i,fullName:r,imgUrl:n}=s;this.miniLoggedinUser={_id:i,fullName:r,imgUrl:n},this.avgRates(),this.eventi.members.find(e=>e._id===this.miniLoggedinUser._id)&&(this.textBtn="leave event"),this.topic=this.eventi._id,z.emit("chat topic",this.topic),z.on("chat addMsg",this.addMsg),z.on("changesMember",this.changesMember),z.on("updatesEventi",e=>{this.eventi=e}),this.$store.getters.loggedinUser&&this.$store.getters.loggedinUser.org&&this.$store.getters.loggedinUser.org._id===this.eventi.byOrg._id&&(this.eventi.notifications=0,this.$store.dispatch({type:"saveEventi",eventi:this.eventi}),z.emit("updateEventi",this.eventi),console.log("admin 0 notification",this.eventi))},destroyed(){this.msgs=[],this.msgChat="",z.off("chat addMsg",this.addMsg),z.off("changesMember",this.changesMember)},components:{avatar:Os.a,rateStarsEnable:Bs,chatApp:Us}},Ds=Ls,As=Object(g["a"])(Ds,bs,_s,!1,null,null,null),Js=As.exports,Ms=function(){var e=this,t=e._self._c;return e.org?t("section",{staticClass:"org-details"},[t("section",{staticClass:"top-page flex center space-between"},[t("section",{staticClass:"top-details"},[t("h2",{staticClass:"mb10"},[e._v(e._s(e.org.name))]),t("section",{staticClass:"flex"},[t("section",{staticClass:"rate-section"},[e.org.reviews.length?t("span",[t("i",{staticClass:"star fas fa-star"}),e._v(" "+e._s(e.org.rate)+" ("+e._s(e.org.reviews.length)+") ")]):t("span",[t("i",{staticClass:"star fas fa-star"}),e._v("New")])]),t("span",[e._v(e._s(e.org.country))])])]),e.isUserOrgAdmin?t("section",{staticClass:"status-details flex align-center text-center"},[t("el-button",{staticClass:"delete-btn",attrs:{type:"warning"},on:{click:e.removeOrg}},[e._v("Delete Organization")]),t("router-link",{staticClass:"el-button el-button--success",attrs:{type:"success",to:"/org-edit/"+e.org._id}},[e._v("Edit")]),e.isUserOrgAdmin?t("router-link",{staticClass:"add-eventi el-button el-button--success",attrs:{to:"/eventi-edit"}},[e._v("Add Event")]):e._e()],1):e._e()]),t("section",{staticClass:"org-imgs"},e._l(e.org.imgUrls,(function(e,s){return t("img",{key:s,staticClass:"org-img",attrs:{src:e}})})),0),t("main",[t("section",{staticClass:"details"},[t("section",{staticClass:"top-details flex space-between align-center wrap"},[t("section",{staticClass:"mini-user flex align-center mb10"},[t("avatar",{staticClass:"mr10",staticStyle:{"background-position":"center","background-size":"cover"},attrs:{src:e.org.admin.imgUrl,username:e.org.admin.fullName}}),t("span",[e._v(e._s(e.org.admin.fullName))])],1),e._m(0)]),t("hr"),t("p",{staticClass:"org-goals"},[e._v(e._s(e.org.goals))]),t("hr"),t("section",{staticClass:"tags-section flex align-center wrap"},[t("span",{staticClass:"bold mr16"},[e._v("Categories")]),t("section",{staticClass:"tags"},e._l(e.org.tags,(function(s,i){return t("span",{key:i,staticClass:"tag text-center mrg5"},[t("i",{class:e.tagsIcon[s]}),e._v(" "+e._s(s)+" ")])})),0)]),t("hr"),t("section",{staticClass:"org-desc"},[t("p",[e._v(e._s(e.org.desc))])]),t("hr"),t("section",{staticClass:"org-eventis"},[t("span",{staticClass:"bold"},[e._v("Our Events")]),t("eventi-list",{attrs:{eventis:e.orgEventis}})],1),t("hr"),t("section",{staticClass:"reviews-section flex column center"},[t("section",{staticClass:"add-review flex align-center text-center mb10"},[t("el-input",{attrs:{type:"text",placeholder:"Enter your review",name:"review"},model:{value:e.reviewToEdit.txt,callback:function(t){e.$set(e.reviewToEdit,"txt",t)},expression:"reviewToEdit.txt"}}),t("el-button",{attrs:{type:"success"},on:{click:e.addReview}},[e._v("Add review")]),t("rate-stars-enable",{staticClass:"mb10",model:{value:e.reviewToEdit.rate,callback:function(t){e.$set(e.reviewToEdit,"rate",t)},expression:"reviewToEdit.rate"}})],1),t("span",{staticClass:"text-center mrg5"},[e._v("Reviews")]),t("section",{staticClass:"reviews flex wrap center"},e._l(e.org.reviews,(function(s){return t("section",{key:s._id,staticClass:"review flex column mrg5"},[t("section",{staticClass:"details-review flex align-center"},[t("avatar",{staticStyle:{"background-position":"center","background-size":"cover"},attrs:{src:s.author.imgUrl,username:s.author.fullName}}),t("span",{staticClass:"review-rate"},[e._v(e._s(s.rate)),t("i",{staticClass:"star fas fa-star"})]),t("span",{staticClass:"time mrg5"},[e._v(" "+e._s(e.moment(s.createdAt).startOf("minute").fromNow())+" ")])],1),t("section",{staticClass:"content-review flex align-center text-center"},[t("span",{staticClass:"name-review mrg5"},[e._v(e._s(s.author.fullName)+": ")]),t("span",{staticClass:"txt-review"},[e._v(e._s(s.txt))])])])})),0)])])])]):e._e()},zs=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"facebook-btn"},[t("div",{staticClass:"fb-like",attrs:{"data-href":"https://www.facebook.com/HeroesforLifeIsrael","data-width":"200","data-layout":"standard","data-action":"like","data-size":"large","data-share":"true"}}),t("iframe",{staticStyle:{border:"none",overflow:"hidden"},attrs:{src:"https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2FHeroesforLifeIsrael&width=200&layout=standard&action=like&size=large&share=true&height=35&appId",width:"350",height:"35",scrolling:"no",frameborder:"0",allowfullscreen:"true",allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"}})])}],Ks=s("c1df"),Ps={name:"orgDetails",data(){return{moment:Ks,org:null,reviewToEdit:{author:{},txt:"",rate:5},miniLoggedinUser:null,textBtn:"Join us!",msg:"no Rates"}},computed:{tagsIcon(){return this.$store.getters.tagsIcon},orgEventis(){const e=this.$store.getters.eventisForDisplay.filter(e=>{if(e.byOrg)return e.byOrg._id===this.org._id});return e},isUserOrgAdmin(){const e=this.$store.getters.loggedinUser;return!(!e||!e.isAdmin)||!(!e||!e.org||e.org._id!==this.org._id)}},methods:{avgRates(){var e=0;this.org.reviews.forEach(t=>{e+=t.rate}),this.org.rate=e/this.org.reviews.length},addReview(){if(!this.$store.getters.loggedinUser)return this.$message({showClose:!0,message:"You need login first",type:"warning",duration:1500}),void(this.reviewToEdit.txt="");this.reviewToEdit.rate=Number(this.reviewToEdit.rate),this.reviewToEdit.createdAt=Date.now(),this.reviewToEdit._id=Tt.makeId(),this.reviewToEdit.author=JSON.parse(JSON.stringify(this.miniLoggedinUser)),this.org.reviews.push(this.reviewToEdit),this.avgRates(),console.log(this.org),this.$store.dispatch({type:"saveOrg",org:JSON.parse(JSON.stringify(this.org))}),this.reviewToEdit={author:{},txt:"",rate:5}},async removeOrg(){const e=await this.$store.dispatch({type:"removeOrgById",orgId:this.org._id});e.type?this.$message({showClose:!0,message:this.org.title+" removed sucessfully!",type:"success",duration:1500}):this.$message({showClose:!0,message:`${this.org.title} cant removed, err ${e.err}`,type:"warning",duration:1500}),this.$router.go(-1)}},async created(){this.$store.dispatch({type:"setEventis"});const e=this.$route.params.orgId,t=await Tt.getById(e);this.org=JSON.parse(JSON.stringify(t))||{};const s=JSON.parse(JSON.stringify(this.$store.getters.loggedinUser))||{_id:"",fullName:"Goust",imgUrl:""},{_id:i,fullName:r,imgUrl:n}=s;this.miniLoggedinUser={_id:i,fullName:r,imgUrl:n},this.avgRates(),z.on("updatesEventi",()=>{this.$store.dispatch({type:"setEventis"})})},components:{avatar:Os.a,rateStarsEnable:Bs,eventiList:Ne}},Ys=Ps,qs=Object(g["a"])(Ys,Ms,zs,!1,null,null,null),Rs=qs.exports,Hs=function(){var e=this,t=e._self._c;return e.user?t("section",{staticClass:"user-details"},[t("h2",[e._v("user details")]),e.user.imgUrl?t("avatar",{attrs:{src:e.user.imgUrl,username:e.user.fullName}}):e._e(),t("h3",[e._v("Name: "+e._s(e.user.fullName))]),t("div",{staticClass:"skills clean-list mb10"},[t("h3",{staticClass:"mrg0"},[e._v("Skills:")]),e._l(e.user.skills,(function(s,i){return t("section",{key:i},[e._v(" "+e._s(s)+" ")])}))],2),t("div",{staticClass:"favs clean-list mb10"},[t("h3",{staticClass:"mrg0"},[e._v("Favorites:")]),e._l(e.user.favs,(function(s,i){return t("section",{key:i},[e._v(" "+e._s(s)+" ")])}))],2),t("h3",[e._v("My Events")]),e.user.events.length?t("eventi-list",{attrs:{eventis:e.eventis}}):t("h4",[e._v("Join Events!")]),t("h3",[e._v("My Organization")]),e.user.org?t("org-list",{attrs:{orgs:e.org}}):t("h4",[e._v("Make your own Organization")])],1):e._e()},Gs=[],Vs={name:"user-details",computed:{user(){return this.$store.getters.loggedinUser},eventis(){return this.user.events.map(e=>this.$store.getters.eventisForDisplay.find(t=>t._id===e._id))},org(){console.log(this.$store.getters.orgsForDisplay);const e=this.$store.getters.orgsForDisplay.find(e=>e._id===this.user.org._id);console.log("org",e);const t=[];return t.push(e),t}},async created(){this.$store.dispatch({type:"setEventis"}),this.$store.dispatch({type:"setOrgs"})},components:{avatar:Os.a,eventiList:Ne,orgList:ht}},Ws=Vs,Qs=Object(g["a"])(Ws,Hs,Gs,!1,null,null,null),Xs=Qs.exports;i["default"].use(X["a"]);const Zs=[{path:"/",name:"Home",component:ze},{path:"/eventi-app",name:"eventiApp",component:He},{path:"/org-app",name:"orgApp",component:ft},{path:"/org-edit/:orgId?",name:"orgEdit",component:Gt},{path:"/eventi-edit/:_id?",name:"eventiEdit",component:gs},{path:"/login",name:"login",component:ys},{path:"/eventi-details/:eventiId",name:"eventiDetails",component:Js},{path:"/org-details/:orgId",name:"orgDetails",component:Rs},{path:"/user-details/:userId",name:"userDetails",component:Xs}],ei=new X["a"]({routes:Zs});var ti=ei,si=s("2f62");const ii={state:{eventis:[],tags:["Animals","Children","Food","Needy","COVID-19","Fun","Baby"],neededs:["Doctors","Managers","Chefs","Teachers","Workers"],accommodation:["food","housing"],tagsIcon:{Animals:"fas fa-paw",Children:"fas fa-child",Food:"fas fa-utensils",Needy:"fas fa-hand-holding-heart",["COVID-19"]:"fas fa-biohazard",Fun:"far fa-smile-beam",Baby:"fas fa-baby"},neededsIcon:{Doctors:"fas fa-user-md",Managers:"fas fa-sitemap",Chefs:"fas fa-bread-slice",Teachers:"fas fa-graduation-cap",Workers:"fas fa-tractor"},accommodationIcon:{food:"fas fa-utensils",housing:"fas fa-bed"}},getters:{eventisForDisplay(e){return console.log("eventisForDisplay",e.eventis),e.eventis},tags(e){return e.tags},neededs(e){return e.neededs},allFilds(e){try{var t,s;const i={keyList:["country","category","organization","accommodation"],options:{country:[],category:[],organization:[],accommodation:[],tags:[]}};return null!==(t=e.eventis)&&void 0!==t&&t.length?(i.options.country=null===(s=e.eventis)||void 0===s?void 0:s.map(e=>{var t,s;if(!i.options.country.includes(null===(t=e.location)||void 0===t?void 0:t.country))return null===(s=e.location)||void 0===s?void 0:s.country}),i.options.country=i.options.country.reduce((e,t)=>t?(e.includes(t)||e.push(t),e):e,[]),e.eventis.forEach(e=>{e.tags&&i.options.category.push(...e.tags)}),i.options.category=i.options.category.reduce((e,t)=>(e.includes(t)||e.push(t),e),[]),i.options.tags=i.options.category,i.options.organization=e.eventis.map(e=>{var t,s;if(!i.options.organization.includes(null===(t=e.byOrg)||void 0===t?void 0:t.name))return null===(s=e.byOrg)||void 0===s?void 0:s.name}),i.options.organization=i.options.organization.reduce((e,t)=>t?(e.includes(t)||e.push(t),e):e,[]),e.eventis.forEach(e=>{e.accommodation&&i.options.accommodation.push(...e.accommodation)}),i.options.accommodation=i.options.accommodation.reduce((e,t)=>(e.includes(t)||e.push(t),e),[]),console.log("optionFilds",i),i):i}catch(i){console.log(i)}},tagsIcon(e){return e.tagsIcon},neededsIcon(e){return e.neededsIcon},accommodationIcon(e){return e.accommodationIcon}},mutations:{setEventis(e,{eventis:t}){e.eventis=t},addEventi(e,{eventi:t}){e.eventis.push(t)},updateEventi(e,{eventi:t}){const s=e.eventis.findIndex(e=>e._id===t._id);e.eventis.splice(s,1,t)},removeEventiById(e,{eventId:t}){const s=e.eventis.findIndex(e=>e._id===t);e.eventis.splice(s,1)}},actions:{async saveEventi({commit:e},{eventi:t}){try{console.log("saveStoreEventi",t);const s=t._id?"updateEventi":"addEventi",i=await Xt.save(t);return console.log("saved",i),e({type:s,eventi:i}),{type:!0,err:null}}catch(s){return{type:!1,err:s}}},async setEventis({commit:e}){try{console.log("setEventi");const t=await Xt.query();return e({type:"setEventis",eventis:t}),{type:!0,err:null}}catch(t){return console.log("err",t),{type:!1,err:t}}},async removeEventiById({commit:e},t){try{return await Xt.remove(t.eventiId),e(t),{type:!0,err:null}}catch(s){return{type:!1,err:s}}},async setSortEventis({commit:e},{sortBy:t}){console.log(t);const s=await Xt.getSortList(t);e({type:"setEventis",eventis:s})},async getEventiById(e,{_id:t}){return await Xt.getById(t)}}},ri={state:{orgs:[]},getters:{orgsForDisplay(e){return e.orgs},orgAllFilds(e){try{var t,s;const i={keyList:["country","category"],options:{country:[],category:[],tags:[]}};return null!==(t=e.orgs)&&void 0!==t&&t.length?(i.options.country=null===(s=e.orgs)||void 0===s?void 0:s.map(e=>{if(!i.options.country.includes(e.country))return e.country}),i.options.country=i.options.country.reduce((e,t)=>t?(e.includes(t)||e.push(t),e):e,[]),e.orgs.forEach(e=>{e.tags&&i.options.category.push(...e.tags)}),i.options.category=i.options.category.reduce((e,t)=>t?(e.includes(t)||e.push(t),e):e,[]),i.options.tags=i.options.category,console.log("Org Option Filds",i),i):i}catch(i){console.log(i)}}},mutations:{setOrgs(e,{orgs:t}){e.orgs=t},addOrg(e,{org:t}){e.orgs.push(t)},updateOrg(e,{org:t}){const s=e.orgs.findIndex(e=>e._id===t._id);e.orgs.splice(s,1,t)},removeOrgById(e,{orgId:t}){const s=e.orgs.findIndex(e=>e._id===t);e.orgs.splice(s,1)}},actions:{async saveOrg({commit:e},{org:t}){try{console.log("saveStoreOrg",t);const s=t._id?"updateOrg":"addOrg",i=await Tt.save(t);return console.log("saved",i),e({type:s,org:i}),{type:!0,org:i,err:null}}catch(s){return{type:!1,err:s}}},async setOrgs({commit:e}){try{const t=await Tt.query();return e({type:"setOrgs",orgs:t}),{type:!0,err:null}}catch(t){return console.log("err",t),{type:!1,err:t}}},async removeOrgById({commit:e,dispatch:t},s){try{return await Tt.remove(s.orgId),e(s),s.orgorgs.forEach(e=>{t({type:"removeEventiById",eventiId:e._id},{root:!0})}),{type:!0,err:null}}catch(i){return{type:!1,err:i}}},async setSortOrgs({commit:e},{sortBy:t}){console.log(t);const s=await Tt.getSortList(t);e({type:"setOrgs",orgs:s})},async getOrgById(e,{orgId:t}){return await Tt.getById(t)}}},ni={login:ui,logout:gi,signup:di,getUsers:ai,getById:oi,remove:li,update:ci};function ai(){return $t.get("user")}function oi(e){return $t.get("user/"+e)}function li(e){return $t.delete("user/"+e)}function ci(e){return $t.put("user/"+e._id,e)}async function ui(e){const t=await $t.post("auth/login",e);return hi(t)}async function di(e){const t=await $t.post("auth/signup",e);return hi(t)}async function gi(){await $t.post("auth/logout"),sessionStorage.clear()}function hi(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var pi=null;sessionStorage.user&&(pi=JSON.parse(sessionStorage.user));const mi={state:{loggedinUser:pi,users:[]},getters:{users(e){return e.users},loggedinUser(e){return e.loggedinUser}},mutations:{setUser(e,{user:t}){e.loggedinUser=t,sessionStorage.user=JSON.stringify(t)},setUsers(e,{users:t}){e.users=t},removeUser(e,{userId:t}){e.users=e.users.filter(e=>e._id!==t)}},actions:{async login(e,{userCred:t}){const s=await ni.login(t);return console.log(s),e.commit({type:"setUser",user:s}),s},async signup(e,{userCred:t}){const s=await ni.signup(t);return e.commit({type:"setUser",user:s}),console.log("signup -> user",s),s},async logout(e){return await ni.logout(),e.commit({type:"setUsers",users:[]}),e.commit({type:"setUser",user:null}),{type:!0,err:null}},async loadUsers(e){const t=await ni.getUsers();e.commit({type:"setUsers",users:t})},async removeUser(e,{userId:t}){await ni.remove(t),e.commit({type:"removeUser",userId:t})},async updateUser(e,{user:t}){return console.log(t),t=await ni.update(t),console.log(t),e.commit({type:"setUser",user:t}),{type:!0}}}};i["default"].use(si["a"]);var vi=new si["a"].Store({state:{},mutations:{},actions:{},modules:{eventiStore:ii,userStore:mi,orgStore:ri}}),fi=s("c1df"),yi=s.n(fi),bi=s("5c96"),_i=s.n(bi),Ci=s("b2d6"),wi=s.n(Ci);s("0fae");i["default"].use(_i.a,{locale:wi.a}),yi()().format(),i["default"].config.productionTip=!1,new i["default"]({router:ti,store:vi,render:e=>e(W)}).$mount("#app")},"7df6":function(e,t,s){},c07d:function(e,t,s){"use strict";s("503b")},d338:function(e,t,s){"use strict";s("014e")}});
//# sourceMappingURL=app.cafeaa80.js.map